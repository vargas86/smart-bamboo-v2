"use strict";const initScriptCollection=()=>{const t=document.querySelectorAll(".js-selectVariant"),e=t=>{const e=t.target.dataset.product,a=t.target.value,o=t.target.dataset.inventoryPolicy,n=document.querySelector(`[data-product='${e}']`);let r=t.target[t.target.selectedIndex].dataset.price,c=t.target[t.target.selectedIndex].dataset.compare,d=t.target[t.target.selectedIndex].dataset.product,i=document.querySelector(`.js-${d}-compare`),s=document.querySelector(`.js-${d}-price`);i.textContent=Shopify.formatMoney(c),s.textContent=Shopify.formatMoney(r),n.dataset.id=a,n.dataset.inventoryPolicy=o};t.forEach((t=>{t.addEventListener("change",e)})),document.addEventListener("click",(t=>{if(t.target.classList.contains("js-addToCart")){((t,e,a)=>{let o;o="continue"==a?{items:[{id:t,quantity:1,properties:{Preventa:1}}]}:{items:[{id:t,quantity:1}]},fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((t=>{t.ok&&(location.href="/checkout")})).catch((t=>{e.target.textContent="Agotado",console.error("Error:",t)}))})(t.target.dataset.id,t,t.target.dataset.inventoryPolicy)}}))};document.addEventListener("DOMContentLoaded",initScriptCollection);